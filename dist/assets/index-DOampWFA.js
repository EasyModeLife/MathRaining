const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-DAjzDXwH.js","assets/utils-Dhpz6cMF.js","assets/HomePage-DzKMBuS3.css","assets/GamePage-CICwjK_i.js","assets/SubNav-BxlBZnhM.js","assets/SubNav-DjWG6cjs.css","assets/GamePage-DvMelbFv.css","assets/InstructionsPage-DDQYdJVh.js","assets/InstructionsPage-CwbcTUYg.css","assets/Math-DS4iGSO1.css","assets/LearningPage-DmGsYwKS.js","assets/LearningPage-Bf1QqbA7.css","assets/AboutPage-D-5K4E0x.js","assets/AboutPage-CBRZmRmW.css","assets/NotFoundPage-DGZhb9m6.js","assets/NotFoundPage-7YSGcJE5.css"])))=>i.map(i=>d[i]);
var te=Object.defineProperty;var ne=(n,e,t)=>e in n?te(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var O=(n,e,t)=>ne(n,typeof e!="symbol"?e+"":e,t);import{P as re,n as g,s as M,a as oe,r as Y,i as B,S as H,b as x,d as y,c as se,e as w,f as m,l as S,g as d,h as E,t as ie,j as p,k as R,m as T,o as J,p as Q,q as ae,u as ce,v as le,w as z,x as C,y as P,z as A,A as ue,B as U,C as N,D as pe}from"./utils-Dhpz6cMF.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(re);const k=[];function fe(n,e){return{subscribe:L(n,e).subscribe}}function L(n,e=g){let t;const r=new Set;function o(a){if(M(n,a)&&(n=a,t)){const i=!k.length;for(const l of r)l[1](),k.push(l,n);if(i){for(let l=0;l<k.length;l+=2)k[l][0](k[l+1]);k.length=0}}}function c(a){o(a(n))}function s(a,i=g){const l=[a,i];return r.add(l),r.size===1&&(t=e(o,c)||g),a(n),()=>{r.delete(l),r.size===0&&t&&(t(),t=null)}}return{set:o,update:c,subscribe:s}}function xe(n,e,t){const r=!Array.isArray(n),o=r?[n]:n;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const c=e.length<2;return fe(t,(s,a)=>{let i=!1;const l=[];let u=0,f=g;const _=()=>{if(u)return;f();const b=e(r?l[0]:l,s,a);c?s(b):f=B(b)?b:g},v=o.map((b,F)=>oe(b,ee=>{l[F]=ee,u&=~(1<<F),i&&_()},()=>{u|=1<<F}));return i=!0,_(),function(){Y(v),f(),i=!1}})}const me=(()=>{try{const n=sessionStorage.getItem("initial-path");if(n)return D(n)}catch{}return D(location.pathname)})(),q=L(me);function D(n){try{let e=decodeURI(n||"/");return e.startsWith("/")||(e="/"+e),e=e.replace(/\/+/,"/"),e.length>1&&e.endsWith("/")&&(e=e.slice(0,-1)),e}catch{return"/"}}function V(n,e={}){const t=D(n);e.replace?history.replaceState({},"",t):history.pushState({},"",t),q.set(t)}window.addEventListener("popstate",()=>{q.set(D(location.pathname))});document.addEventListener("click",n=>{const e=n.target;if(!e)return;const t=e.closest("a");if(!t)return;const r=t.getAttribute("href")||"",o=(t.getAttribute("rel")||"").toLowerCase(),c=(t.getAttribute("target")||"").toLowerCase();/^https?:\/\//i.test(r)||r.startsWith("mailto:")||r.startsWith("tel:")||c==="_blank"||o.includes("external")||r.startsWith("/")&&(n.preventDefault(),V(r))});const I=["deep-blue","solarized-light","dark","pink-purple"],X="theme",W=L("deep-blue");function Z(n){typeof document<"u"&&document.documentElement.setAttribute("data-theme",n)}function de(n){try{localStorage.setItem(X,n)}catch{}}function he(){try{const n=localStorage.getItem(X);if(n&&I.includes(n))return n}catch{}return null}function ge(){const n=he()??"deep-blue";W.set(n),Z(n)}function _e(){let n,e;W.subscribe(o=>e=o)();const r=I.indexOf(e);n=I[(r+1)%I.length],W.set(n),Z(n),de(n)}function ve(n){let e,t,r,o,c,s,a,i,l,u,f,_;return{c(){e=d("header"),t=d("div"),r=d("div"),o=d("button"),o.textContent="MathRaining",c=E(),s=d("small"),a=ie(n[0]),i=E(),l=d("nav"),u=d("button"),u.innerHTML='<svg class="icon svelte-ckrr1e" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M12 4V2M12 22v-2M4.93 4.93 3.51 3.51M20.49 20.49l-1.42-1.42M4 12H2M22 12h-2M4.93 19.07 3.51 20.49M20.49 3.51l-1.42 1.42" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"></path><circle cx="12" cy="12" r="4.5" stroke="currentColor" stroke-width="1.6"></circle></svg>',p(o,"class","title svelte-ckrr1e"),p(s,"class","view-indicator svelte-ckrr1e"),p(s,"aria-live","polite"),p(r,"class","brand svelte-ckrr1e"),p(u,"class","action theme-btn svelte-ckrr1e"),p(u,"title","Cambiar tema"),p(u,"aria-label","Cambiar tema"),p(l,"class","nav svelte-ckrr1e"),p(t,"class","header-box svelte-ckrr1e"),p(e,"class","page-header svelte-ckrr1e")},m(v,b){w(v,e,b),m(e,t),m(t,r),m(r,o),m(r,c),m(r,s),m(s,a),m(t,i),m(t,l),m(l,u),f||(_=[S(o,"click",function(){B(n[1])&&n[1].apply(this,arguments)}),S(o,"keydown",n[3]),S(u,"click",function(){B(n[2])&&n[2].apply(this,arguments)})],f=!0)},p(v,[b]){n=v,b&1&&se(a,n[0])},i:g,o:g,d(v){v&&y(e),f=!1,Y(_)}}}function be(n,e,t){let{currentPath:r="/"}=e,{goHome:o}=e,{cycleTheme:c}=e;const s=a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),o())};return n.$$set=a=>{"currentPath"in a&&t(0,r=a.currentPath),"goHome"in a&&t(1,o=a.goHome),"cycleTheme"in a&&t(2,c=a.cycleTheme)},[r,o,c,s]}class ye extends H{constructor(e){super(),x(this,e,be,ve,M,{currentPath:0,goHome:1,cycleTheme:2})}}function we(n){let e,t,r,o,c,s,a,i,l,u;return{c(){e=d("footer"),t=d("div"),r=d("div"),o=d("a"),o.innerHTML='<svg class="icon svelte-19psflp" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>',c=E(),s=d("a"),s.innerHTML='<svg class="icon svelte-19psflp" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>',a=E(),i=d("button"),i.innerHTML='<svg class="icon svelte-19psflp" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"></circle><path d="M12 16v-4M12 8h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg>',p(o,"href","https://github.com/sponsors/EasyModeLife"),p(o,"target","_blank"),p(o,"rel","noopener noreferrer"),p(o,"class","footer-btn svelte-19psflp"),p(o,"title","Donar"),p(s,"href","https://github.com/EasyModeLife/MathRaining"),p(s,"target","_blank"),p(s,"rel","noopener noreferrer"),p(s,"class","footer-btn svelte-19psflp"),p(s,"title","GitHub"),p(i,"class","footer-btn svelte-19psflp"),p(i,"type","button"),p(i,"title","Acerca de"),p(r,"class","footer-buttons svelte-19psflp"),p(t,"class","footer-container svelte-19psflp"),p(e,"class","page-footer svelte-19psflp")},m(f,_){w(f,e,_),m(e,t),m(t,r),m(r,o),m(r,c),m(r,s),m(r,a),m(r,i),l||(u=S(i,"click",n[0]),l=!0)},p:g,i:g,o:g,d(f){f&&y(e),l=!1,u()}}}function Ee(n,e,t){let{FOOTER_PCT:r=3}=e;function o(){V("/about")}return n.$$set=c=>{"FOOTER_PCT"in c&&t(1,r=c.FOOTER_PCT)},[o,r]}class Re extends H{constructor(e){super(),x(this,e,Ee,we,M,{FOOTER_PCT:1})}}const Te="modulepreload",ke=function(n){return"/"+n},j={},h=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));o=Promise.allSettled(t.map(i=>{if(i=ke(i),i in j)return;j[i]=!0;const l=i.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${u}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":Te,l||(f.as="script"),f.crossOrigin="",f.href=i,a&&f.setAttribute("nonce",a),document.head.appendChild(f),l)return new Promise((_,v)=>{f.addEventListener("load",_),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${i}`)))})}))}function c(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return o.then(s=>{for(const a of s||[])a.status==="rejected"&&c(a.reason);return e().catch(c)})},$=[{path:"/",component:()=>h(()=>import("./HomePage-DAjzDXwH.js"),__vite__mapDeps([0,1,2])),title:"MathRaining - Home"},{path:"/arithmetic",component:()=>h(()=>import("./GamePage-CICwjK_i.js"),__vite__mapDeps([3,1,4,5,6])),title:"MathRaining - Arithmetic",meta:{gameType:"arithmetic"}},{path:"/arithmetic/game",component:()=>h(()=>import("./GamePage-CICwjK_i.js"),__vite__mapDeps([3,1,4,5,6])),title:"MathRaining - Arithmetic Game",meta:{gameType:"arithmetic"}},{path:"/arithmetic/practice",component:()=>h(()=>import("./GamePage-CICwjK_i.js"),__vite__mapDeps([3,1,4,5,6])),title:"MathRaining - Arithmetic Practice",meta:{gameType:"arithmetic",mode:"practice"}},{path:"/arithmetic/instructions",component:()=>h(()=>import("./InstructionsPage-DDQYdJVh.js"),__vite__mapDeps([7,1,4,5,8,9])),title:"MathRaining - Arithmetic Instructions",meta:{gameType:"arithmetic",mode:"instructions"}},{path:"/arithmetic/learning",component:()=>h(()=>import("./LearningPage-DmGsYwKS.js"),__vite__mapDeps([10,1,4,5,11])),title:"MathRaining - Arithmetic Learning",meta:{gameType:"arithmetic"}},{path:"/calculus",component:()=>h(()=>import("./GamePage-CICwjK_i.js"),__vite__mapDeps([3,1,4,5,6])),title:"MathRaining - Calculus",meta:{gameType:"calculus"}},{path:"/calculus/game",component:()=>h(()=>import("./GamePage-CICwjK_i.js"),__vite__mapDeps([3,1,4,5,6])),title:"MathRaining - Calculus Game",meta:{gameType:"calculus"}},{path:"/calculus/practice",component:()=>h(()=>import("./GamePage-CICwjK_i.js"),__vite__mapDeps([3,1,4,5,6])),title:"MathRaining - Calculus Practice",meta:{gameType:"calculus",mode:"practice"}},{path:"/calculus/instructions",component:()=>h(()=>import("./InstructionsPage-DDQYdJVh.js"),__vite__mapDeps([7,1,4,5,8,9])),title:"MathRaining - Calculus Instructions",meta:{gameType:"calculus",mode:"instructions"}},{path:"/calculus/learning",component:()=>h(()=>import("./LearningPage-DmGsYwKS.js"),__vite__mapDeps([10,1,4,5,11])),title:"MathRaining - Calculus Learning",meta:{gameType:"calculus"}},{path:"/about",component:()=>h(()=>import("./AboutPage-D-5K4E0x.js"),__vite__mapDeps([12,1,13])),title:"MathRaining - About"},{path:"*",component:()=>h(()=>import("./NotFoundPage-DGZhb9m6.js"),__vite__mapDeps([14,1,15])),title:"MathRaining - Not Found"}];class Ce{constructor(e){O(this,"currentRoute",L(null));O(this,"currentComponent",L(null));O(this,"unsubscribe",null);this.pathStore=e,this.setupRouteSubscription()}setupRouteSubscription(){this.unsubscribe=this.pathStore.subscribe(e=>{const t=this.findRoute(e);this.currentRoute.set(t),t&&(this.loadComponent(t.route),this.updateTitle(t.route.title))})}findRoute(e){for(const r of $)if(r.path===e&&r.path!=="*")return{route:r,params:{},query:{}};for(const r of $)if(r.path!=="*"&&e.startsWith(r.path+"/")){const o=$.find(c=>c.path===e&&c.path.startsWith(r.path+"/"));if(o)return{route:o,params:{},query:{}}}const t=$.find(r=>r.path==="*");return t?{route:t,params:{},query:{}}:null}async loadComponent(e){try{const t=await e.component();this.currentComponent.set(t.default)}catch(t){console.error("[PageRouter] Failed to load component:",t),this.currentComponent.set(null)}}updateTitle(e){e&&typeof document<"u"&&(document.title=e)}getCurrentRoute(){return this.currentRoute}getCurrentComponent(){return this.currentComponent}navigate(e){this.pathStore.set(e)}destroy(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)}}function Pe(n){return new Ce(n)}function Ae(n){let e;return{c(){e=d("div"),e.textContent="Loading...",p(e,"class","loading svelte-1rs71s0")},m(t,r){w(t,e,r)},p:g,i:g,o:g,d(t){t&&y(e)}}}function Le(n){let e,t,r;var o=n[0];function c(s,a){return{}}return o&&(e=z(o,c()),e.$on("answer",n[2])),{c(){e&&P(e.$$.fragment),t=ue()},m(s,a){e&&A(e,s,a),w(s,t,a),r=!0},p(s,a){if(a&1&&o!==(o=s[0])){if(e){J();const i=e;R(i.$$.fragment,1,0,()=>{C(i,1)}),Q()}o?(e=z(o,c()),e.$on("answer",s[2]),P(e.$$.fragment),T(e.$$.fragment,1),A(e,t.parentNode,t)):e=null}},i(s){r||(e&&T(e.$$.fragment,s),r=!0)},o(s){e&&R(e.$$.fragment,s),r=!1},d(s){s&&y(t),e&&C(e,s)}}}function Me(n){let e,t,r,o;const c=[Le,Ae],s=[];function a(i,l){return i[0]?0:1}return t=a(n),r=s[t]=c[t](n),{c(){e=d("main"),r.c(),p(e,"class","page-main svelte-1rs71s0")},m(i,l){w(i,e,l),s[t].m(e,null),o=!0},p(i,[l]){let u=t;t=a(i),t===u?s[t].p(i,l):(J(),R(s[u],1,1,()=>{s[u]=null}),Q(),r=s[t],r?r.p(i,l):(r=s[t]=c[t](i),r.c()),T(r,1),r.m(e,null))},i(i){o||(T(r),o=!0)},o(i){R(r),o=!1},d(i){i&&y(e),s[t].d()}}}function Oe(n,e,t){let r;const o=ae(),c=Pe(q);c.getCurrentRoute();const s=c.getCurrentComponent();ce(n,s,i=>t(0,r=i));function a(i){o("answer",i.detail)}return le(()=>{c.destroy()}),[r,s,a]}class $e extends H{constructor(e){super(),x(this,e,Oe,Me,M,{})}}function Se(n){let e,t,r,o,c,s,a,i,l;return t=new ye({props:{currentPath:n[0],goHome:n[3],cycleTheme:_e}}),o=new $e({props:{currentPath:n[0]}}),o.$on("answer",n[2]),s=new Re({props:{FOOTER_PCT:K}}),{c(){e=d("div"),P(t.$$.fragment),r=E(),P(o.$$.fragment),c=E(),P(s.$$.fragment),a=E(),i=d("div"),p(e,"class","page svelte-14cpcs7"),p(e,"style",`--header:${G}%;--header-pct:${G}%;--footer:${K}%`),p(i,"class","flash-overlay svelte-14cpcs7"),U(i,"background-color",n[1]),N(i,"is-visible",n[1]!=="transparent")},m(u,f){w(u,e,f),A(t,e,null),m(e,r),A(o,e,null),m(e,c),A(s,e,null),w(u,a,f),w(u,i,f),l=!0},p(u,[f]){const _={};f&1&&(_.currentPath=u[0]),t.$set(_);const v={};f&1&&(v.currentPath=u[0]),o.$set(v),(!l||f&2)&&U(i,"background-color",u[1]),(!l||f&2)&&N(i,"is-visible",u[1]!=="transparent")},i(u){l||(T(t.$$.fragment,u),T(o.$$.fragment,u),T(s.$$.fragment,u),l=!0)},o(u){R(t.$$.fragment,u),R(o.$$.fragment,u),R(s.$$.fragment,u),l=!1},d(u){u&&(y(e),y(a),y(i)),C(t),C(o),C(s)}}}const G=7,K=5;function Ie(n,e,t){let r,o="/",c="transparent";pe(()=>{ge();const i=l=>{l.key==="Escape"&&V("/")};return window.addEventListener("keydown",i),()=>{window.removeEventListener("keydown",i),r==null||r()}});function s(i){var l;t(1,c=(l=i.detail)!=null&&l.correct?"rgba(188, 237, 9, 0.15)":"rgba(255, 113, 91, 0.15)"),setTimeout(()=>t(1,c="transparent"),250)}const a=()=>V("/");return r=q.subscribe(i=>{t(0,o=i)}),[o,c,s,a]}class De extends H{constructor(e){super(),x(this,e,Ie,Se,M,{})}}new De({target:document.getElementById("app")});export{h as _,xe as d,V as n,q as p,L as w};
